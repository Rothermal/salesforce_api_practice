function Fruit(a,b){this.name=a,this.price=b,this.changePrice=function(){var a=randomNumber(minSwing,maxSwing),b=randomNumber(1,2);1==b&&(a=-a),a/=100,this.price+=a,this.price>maxPrice&&(this.price=maxPrice),this.price<minPrice&&(this.price=minPrice)}}function User(){this.startingCash=startingCash,this.totalCash=startingCash}function updateGameVariables(){console.log("attempt to connect to salesforce"),$.ajax({type:"GET",url:"/salesforce/gameSettings",success:function(a){console.log(a),startingCash=a.starting_cash__c,fruitArray=a.fruits__c.split(";"),console.log(startingCash),console.log(fruitArray),enable(),user=new User,buildFruits(fruitArray),buildDomFruits(fruitArray)}})}function enable(){$("#fruitContainer").on("click",".fruit-button",clickFruit),setInterval(gameInterval,gameIntervalTime)}function disable(){clearInterval(gameInterval)}function clickFruit(){var a=$(this).data("fruit"),b=$(this).data("price");user.totalCash>=b&&(user["inv"+a].push(b),user.totalCash-=b,console.log(user),updateBankDom())}function gameInterval(){for(var a=0;a<fruitArray.length;a++)fruitArray[a].changePrice();updateFruitDom()}function buildFruits(a){for(var b=0;b<a.length;b++){var c=new Fruit(a[b],startingPrice);a[b]=c,c.changePrice(),user["inv"+c.name]=[]}console.log(user)}function buildDomFruits(a){$("#fruitContainer").empty();for(var b=0;b<a.length;b++){$("#fruitContainer").append("<div class='fruit-button container col-sm-3 "+a[b].name.toLowerCase()+"-buy''></div>");var c=$("#fruitContainer").children().last();c.data("fruit",a[b].name),c.data("price",a[b].price),c.append("<p>"+a[b].name+"</p>"),c.append("<p class='fruit-price'>"+a[b].price+"</p>"),a[b].element=c}updateBankDom()}function updateBankDom(){$(".bank").empty();var a=$(".bank");a.text("$"+user.totalCash.toFixed(2))}function updateFruitDom(){for(var a=0;a<fruitArray.length;a++){var b=fruitArray[a];b.price=parseFloat((Math.round(100*b.price)/100).toFixed(2)),b.element.find(".fruit-price").text("$"+b.price.toFixed(2)),b.element.data("price",b.price)}updateBankDom()}function randomNumber(a,b){return Math.floor(Math.random()*(1+b-a)+a)}var fruitArray=["Apples","Oranges","Bananas","Pears"],startingPrice=5,minSwing=1,maxSwing=50,minPrice=.5,maxPrice=9.99,gameIntervalTime=1e3,startingCash=100,user;$(document).ready(function(){init()});var init=function(){console.log("jquery initalized"),updateGameVariables()};
//# sourceMappingURL=client.map